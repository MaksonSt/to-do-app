<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <title>Встановлення нового пароля</title>
    <style>
        .password-container {
            position: relative;
            margin-bottom: 1rem;
        }
        .toggle-password {
            position: absolute;
            right: 10px;
            top: 30%;
            cursor: pointer;
            user-select: none;
            font-size: 0.9rem;
            background: none;
            border: none;
            color: #007bff;
        }
    </style>
</head>
<body>
    <h1>Встановлення нового пароля</h1>
    <form method="post" action="">
        {% csrf_token %}

        <div class="password-container">
            {{ form.new_password1.label_tag }}<br/>
            {{ form.new_password1 }}
            <button type="button" class="toggle-password" onclick="togglePassword('id_new_password1')">Показати</button>
            {% if form.new_password1.errors %}
                <ul style="color:red;">
                {% for error in form.new_password1.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            {% endif %}
        </div>

        <div class="password-container">
            {{ form.new_password2.label_tag }}<br/>
            {{ form.new_password2 }}
            <button type="button" class="toggle-password" onclick="togglePassword('id_new_password2')">Показати</button>
            {% if form.new_password2.errors %}
                <ul style="color:red;">
                {% for error in form.new_password2.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            {% endif %}
        </div>

        <button type="submit">Змінити пароль</button>
    </form>

    <script>
        function togglePassword(fieldId) {
            const input = document.getElementById(fieldId);
            const btn = event.currentTarget;
            if (input.type === "password") {
                input.type = "text";
                btn.textContent = "Сховати";
            } else {
                input.type = "password";
                btn.textContent = "Показати";
            }
        }
    </script>
</body>
</html>
